===============================================================================
                 WHEELCHAIR SKILLS RAG PARSING TEST REPORT
===============================================================================

Test Date: 2026-01-07 03:08:11
Backend URL: http://localhost:8000/ask/practice
Total Skills to Test:  10

===============================================================================
                              SUMMARY
===============================================================================

  OVERALL SCORE: 691 / 750 (92%)

  +----------+----------+----------+
  |  PASSED  | WARNING  |  FAILED  |
  +----------+----------+----------+
  |    10     |    0     |    0     |
  +----------+----------+----------+

  Grading:  PASS >= 70%, WARNING 40-69%, FAIL < 40%

===============================================================================
                          QUICK RESULTS TABLE
===============================================================================

  Skill  | Name                              | Steps | Dups | Score  | Status
  -------+-----------------------------------+-------+------+--------+--------
      1 | Rolls forwards 10m                |     3 |    0 |   100% | PASS   
      2 | Rolls backwards 2m                |     3 |    0 |   100% | PASS   
      3 | Turns while moving forwards 90deg |     7 |    0 |    83% | PASS   
      4 | Turns while moving backwards 9... |     5 |    0 |    73% | PASS   
      5 | Rolls 100m                        |     3 |    0 |   100% | PASS   
     15 | Ascends 5deg incline              |     5 |    0 |    96% | PASS   
     16 | Descends 5deg incline             |     4 |    0 |   100% | PASS   
     25 | Ascends curb 15cm                 |     4 |    0 |    96% | PASS   
     26 | Descends curb                     |     4 |    0 |    73% | PASS   
     30 | Avoids moving obstacles           |     5 |    0 |   100% | PASS   

===============================================================================
                          DETAILED RESULTS
===============================================================================

-------------------------------------------------------------------------------
SKILL 1: Rolls forwards 10m
-------------------------------------------------------------------------------

  Question: How do I roll forwards 10 meters in a wheelchair?

  Status: PASS    Score: 75/75 (100%)

  Steps Generated: 3 (expected: 3)
  Duplicate Steps:  0

  Expected Actions:    move_forward, brake
  Detected Actions:   move_forward, brake
  Unexpected Actions: None (OK)

  Steps Detail:
  ============

    Step 1: [move_forward]
    ----------------------------------------------------------------
    Push forward smoothly on the handrims

    Step 2: [move_forward]
    ----------------------------------------------------------------
    Continue pushing to maintain momentum

    Step 3: [brake]
    ----------------------------------------------------------------
    Stop and stabilize at the finish line


-------------------------------------------------------------------------------
SKILL 2: Rolls backwards 2m
-------------------------------------------------------------------------------

  Question: How do I roll backwards 2 meters in a wheelchair?

  Status: PASS    Score: 75/75 (100%)

  Steps Generated: 3 (expected: 3)
  Duplicate Steps:  0

  Expected Actions:    move_backward, brake
  Detected Actions:   move_backward, brake
  Unexpected Actions: None (OK)

  Steps Detail:
  ============

    Step 1: [move_backward]
    ----------------------------------------------------------------
    Push backward steadily using smooth and controlled strokes

    Step 2: [move_backward]
    ----------------------------------------------------------------
    Continue rolling backward until you reach the 2-meter mark

    Step 3: [brake]
    ----------------------------------------------------------------
    Stop and stabilize your wheelchair


-------------------------------------------------------------------------------
SKILL 3: Turns while moving forwards 90deg
-------------------------------------------------------------------------------

  Question: How do I turn 90 degrees while moving forward in a wheelchair?

  Status: PASS    Score: 62/75 (83%)

  Steps Generated: 7 (expected: 3)
  Duplicate Steps:  0

  Expected Actions:    move_forward, turn_left, turn_right
  Detected Actions:   move_forward, turn_left, brake, turn_right
  Unexpected Actions: brake [PROBLEM]

  Steps Detail:
  ============

    Step 1: [move_forward]
    ----------------------------------------------------------------
    Push forward smoothly on the handrims

    Step 2: [turn_left]
    ----------------------------------------------------------------
    Turn left by pushing with your left hand and pulling back with your right hand

    Step 3: [move_forward]
    ----------------------------------------------------------------
    Use small, controlled pushes to pivot your chair smoothly in the left direction

    Step 4: [brake]
    ----------------------------------------------------------------
    Stop and stabilize your wheelchair after completing the turn

    Step 5: [turn_right]
    ----------------------------------------------------------------
    Turn right by pushing with your right hand and pulling back with your left hand

    Step 6: [move_forward]
    ----------------------------------------------------------------
    Use small, controlled pushes to pivot your chair smoothly in the right direction

    Step 7: [brake]
    ----------------------------------------------------------------
    Stop and stabilize your wheelchair after completing the turn


-------------------------------------------------------------------------------
SKILL 4: Turns while moving backwards 90deg
-------------------------------------------------------------------------------

  Question: How do I turn 90 degrees while moving backward in a wheelchair?

  Status: PASS    Score: 55/75 (73%)

  Steps Generated: 5 (expected: 3)
  Duplicate Steps:  0

  Expected Actions:    move_backward, turn_left, turn_right
  Detected Actions:   move_backward, turn_left, brake
  Unexpected Actions: brake [PROBLEM]

  Steps Detail:
  ============

    Step 1: [move_backward]
    ----------------------------------------------------------------
    Roll backward to ensure you have enough space to perform the turn safely

    Step 2: [turn_left]
    ----------------------------------------------------------------
    Use small, controlled pushes to start the left turn

    Step 3: [turn_left]
    ----------------------------------------------------------------
    Angle your chair to the left by shifting your weight slightly in the direction of the turn

    Step 4: [turn_left]
    ----------------------------------------------------------------
    Continue to push and pull as needed until you have turned 90 degrees

    Step 5: [brake]
    ----------------------------------------------------------------
    Stabilize your chair by bringing your hands back to the center position on the wheels


-------------------------------------------------------------------------------
SKILL 5: Rolls 100m
-------------------------------------------------------------------------------

  Question: How do I roll 100 meters in a wheelchair maintaining good form?

  Status: PASS    Score: 75/75 (100%)

  Steps Generated: 3 (expected: 4)
  Duplicate Steps:  0

  Expected Actions:    move_forward, brake
  Detected Actions:   move_forward, brake
  Unexpected Actions: None (OK)

  Steps Detail:
  ============

    Step 1: [move_forward]
    ----------------------------------------------------------------
    Push forward smoothly on the handrims

    Step 2: [move_forward]
    ----------------------------------------------------------------
    Continue pushing to maintain momentum

    Step 3: [brake]
    ----------------------------------------------------------------
    Stop and stabilize at the finish line


-------------------------------------------------------------------------------
SKILL 15: Ascends 5deg incline
-------------------------------------------------------------------------------

  Question: How do I ascend a 5 degree incline ramp in a wheelchair?

  Status: PASS    Score: 72/75 (96%)

  Steps Generated: 5 (expected: 3)
  Duplicate Steps:  0

  Expected Actions:    move_forward
  Detected Actions:   move_forward, brake
  Unexpected Actions: brake [PROBLEM]

  Steps Detail:
  ============

    Step 1: [move_forward]
    ----------------------------------------------------------------
    Push forward smoothly to approach the ramp centered with momentum

    Step 2: [move_forward]
    ----------------------------------------------------------------
    Use strong, short pushes to climb the ramp

    Step 3: [move_forward]
    ----------------------------------------------------------------
    Maintain a steady rhythm to keep momentum up the incline

    Step 4: [brake]
    ----------------------------------------------------------------
    Stop and stabilize your position at the top of the ramp

    Step 5: [move_forward]
    ----------------------------------------------------------------
    Move forward from the top of the ramp


-------------------------------------------------------------------------------
SKILL 16: Descends 5deg incline
-------------------------------------------------------------------------------

  Question: How do I descend a 5 degree incline ramp in a wheelchair safely?

  Status: PASS    Score: 75/75 (100%)

  Steps Generated: 4 (expected: 3)
  Duplicate Steps:  0

  Expected Actions:    move_forward, brake
  Detected Actions:   move_forward, brake
  Unexpected Actions: None (OK)

  Steps Detail:
  ============

    Step 1: [move_forward]
    ----------------------------------------------------------------
    Push forward smoothly on the handrims

    Step 2: [move_forward, brake]
    ----------------------------------------------------------------
    Use small pushes or brake to control your speed during descent

    Step 3: [brake]
    ----------------------------------------------------------------
    Stabilize your wheelchair by applying gentle pressure to the rims as you approach flat ground

    Step 4: [brake]
    ----------------------------------------------------------------
    Ensure you are stable before proceeding


-------------------------------------------------------------------------------
SKILL 25: Ascends curb 15cm
-------------------------------------------------------------------------------

  Question: How do I ascend a 15cm curb in a wheelchair?

  Status: PASS    Score: 72/75 (96%)

  Steps Generated: 4 (expected: 4)
  Duplicate Steps:  0

  Expected Actions:    move_forward, pop_casters
  Detected Actions:   move_forward, pop_casters, brake
  Unexpected Actions: brake [PROBLEM]

  Steps Detail:
  ============

    Step 1: [move_forward]
    ----------------------------------------------------------------
    Push forward smoothly on the handrims to approach the curb with momentum

    Step 2: [pop_casters]
    ----------------------------------------------------------------
    Pop the front casters higher (2â4 inches)

    Step 3: [move_forward]
    ----------------------------------------------------------------
    Lean forward and push the rear wheels up onto the curb top

    Step 4: [brake]
    ----------------------------------------------------------------
    Stop and stabilize once on top of the curb


-------------------------------------------------------------------------------
SKILL 26: Descends curb
-------------------------------------------------------------------------------

  Question: How do I descend a curb in a wheelchair safely?

  Status: PASS    Score: 55/75 (73%)

  Steps Generated: 4 (expected: 4)
  Duplicate Steps:  0

  Expected Actions:    move_backward, brake, pop_casters
  Detected Actions:   move_backward, move_forward, brake
  Unexpected Actions: move_forward [PROBLEM]

  Steps Detail:
  ============

    Step 1: [move_backward]
    ----------------------------------------------------------------
    Move backward to approach the curb for control

    Step 2: [move_forward]
    ----------------------------------------------------------------
    Move forward to position your rear wheels at the edge of the curb

    Step 3: [move_forward]
    ----------------------------------------------------------------
    Slowly roll the rear wheels down the curb

    Step 4: [brake]
    ----------------------------------------------------------------
    Brake to stabilize on the lower surface after the descent


-------------------------------------------------------------------------------
SKILL 30: Avoids moving obstacles
-------------------------------------------------------------------------------

  Question: How do I avoid moving obstacles while in a wheelchair?

  Status: PASS    Score: 75/75 (100%)

  Steps Generated: 5 (expected: 3)
  Duplicate Steps:  0

  Expected Actions:    move_forward, turn_left, turn_right, brake
  Detected Actions:   move_forward, turn_left, turn_right, brake
  Unexpected Actions: None (OK)

  Steps Detail:
  ============

    Step 1: [move_forward]
    ----------------------------------------------------------------
    Roll forward slowly, keeping an eye on obstacles

    Step 2: [turn_left, turn_right]
    ----------------------------------------------------------------
    Use short, controlled turns to maneuver around obstacles; turn gently

    Step 3: [brake]
    ----------------------------------------------------------------
    If you need to stop, apply the brakes smoothly

    Step 4: [turn_left, turn_right]
    ----------------------------------------------------------------
    Continue to monitor your path and adjust your direction as needed

    Step 5: [move_forward]
    ----------------------------------------------------------------
    Proceed to your finish point without any collisions


===============================================================================
                          IDENTIFIED ISSUES
===============================================================================

  1. DUPLICATE STEP GENERATION
     The parser splits multi-action instructions into separate steps with
     identical text. This causes confusion in Unity tutorial flow.

  2. OVERLY BROAD KEYWORD MATCHING
     Words like 'up', 'back', 'forward' in context (e.g., 'sit upright',
     'check back') trigger incorrect action assignments.

  3. MISSING ACTIONS FOR SOME SKILLS
     Skill 26 (Descends curb) should include pop_casters but it is not
     being detected from the instruction text.

===============================================================================
                          RECOMMENDATIONS
===============================================================================

  1. Fix generate_expected_actions() in rag_practice_service.py:
     - Use more specific keyword patterns (e.g., 'push forward' not just 'forward')
     - Exclude false positives like 'upright', 'back to', etc.

  2. Fix map_steps_to_skill() in rag_practice_service.py:
     - Don't split multiple actions into separate steps with same text
     - Keep all actions in one step OR create unique instruction per action

  3. Consider adding action validation based on skill type:
     - Forward skills should not have move_backward
     - Backward skills should not have move_forward as primary action

===============================================================================
                              END OF REPORT
===============================================================================

Generated by:  Wheelchair Skills RAG Test Suite
Project: wheelchair-skills-rag / wheelchair-skills-rag_Unity
Report Time: 2026-01-07 03:08:11

